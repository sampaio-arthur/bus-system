# ===============================
# BANCO DE DADOS - POSTGRESQL
# ===============================
quarkus.datasource.db-kind=postgresql
quarkus.datasource.username=${DB_USER}
quarkus.datasource.password=${DB_PASSWORD}
quarkus.datasource.jdbc.url=jdbc:postgresql://db:5432/${DB_DATABASE}

# ===============================
# HIBERNATE ORM
# ===============================
quarkus.hibernate-orm.database.generation=none
quarkus.hibernate-orm.log.sql=true
quarkus.hibernate-orm.sql-load-script=no-file

# ===============================
# FLYWAY (opcional; migração/clean sob demanda)
# ===============================
quarkus.flyway.migrate-at-start=false
quarkus.flyway.clean-disabled=false
quarkus.flyway.locations=classpath:db/migration

# ===============================
# SERVIDOR HTTP
# ===============================
quarkus.http.port=${SERVER_EXTERNAL_PORT}

# ===============================
# JWT / SEGURANÇA
# ===============================
mp.jwt.verify.publickey.location=classpath:public_key.pem
smallrye.jwt.sign.key-location=classpath:private_key.pem
mp.jwt.verify.issuer=bus-system
jwt.secret=${JWT_SECRET}

# ===============================
# TIMEZONE
# ===============================
quarkus.hibernate-orm.jdbc.timezone=${TZ}
user.timezone=${TZ}

# ===============================
# CLIENTE (FRONTEND) - OPCIONAL
# ===============================
client.external.port=${CLIENT_EXTERNAL_PORT}

# ===============================
# CORS - HABILITAR FRONTEND (8080) -> BACKEND (3000)
# ===============================
quarkus.http.cors=true
quarkus.http.cors.origins=${CORS_ORIGINS:*}
quarkus.http.cors.methods=GET,POST,PUT,DELETE,OPTIONS
quarkus.http.cors.headers=Authorization,Content-Type,Accept
quarkus.http.cors.access-control-allow-credentials=true
